!function(t){function e(e){for(var r,u,c=e[0],a=e[1],s=e[2],f=0,p=[];f<c.length;f++)u=c[f],Object.prototype.hasOwnProperty.call(o,u)&&o[u]&&p.push(o[u][0]),o[u]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r]);for(l&&l(e);p.length;)p.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,c=1;c<n.length;c++){var a=n[c];0!==o[a]&&(r=!1)}r&&(i.splice(e--,1),t=u(u.s=n[0]))}return t}var r={},o={0:0},i=[];function u(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=t,u.c=r,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)u.d(n,r,function(e){return t[e]}.bind(null,r));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="";var c=window.webpackJsonp=window.webpackJsonp||[],a=c.push.bind(c);c.push=e,c=c.slice();for(var s=0;s<c.length;s++)e(c[s]);var l=a;i.push([180,1]),n()}({180:function(t,e,n){"use strict";n.r(e);var r=n(1),o=n(179);window.jQuery=$,window.$=$;var i=r.a.start(),u=n(181);i.load(Object(o.a)(u))},181:function(t,e,n){var r={"./chips_controller.js":182,"./editcobertura_controller.js":183,"./editor_controller.js":184,"./fecha_controller.js":185,"./flash_controller.js":187,"./foto_controller.js":188,"./galeria_controller.js":189,"./imageupload_controller.js":190,"./newcov_controller.js":191,"./photoeditform_controller.js":286,"./urlcopy_controller.js":287};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=181},182:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e),n.d(e,"default",(function(){return f}));var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(s,t);var e,n,r,a=c(s);function s(){return o(this,s),a.apply(this,arguments)}return e=s,(n=[{key:"initialize",value:function(){var t=this.hasLimitValue?this.limitValue:1/0,e=this.hasPlaceholderValue?this.placeholderValue:"Tags",n=this.hasSecondaryValue?this.secondaryValue:"+Tag";M.Chips.init(this.viewTarget,{placeholder:e,secondaryPlaceholder:n,limit:t,data:[]}),this.chips=M.Chips.getInstance(this.viewTarget)}},{key:"connect",value:function(){var t=this;JSON.parse(this.inputTarget.value).forEach((function(e){t.chips.addChip({tag:e,image:""})}))}},{key:"getValuesAsList",value:function(){var t=[];return this.chips.getData().forEach((function(e){t.push(e.tag)})),t}},{key:"saveToInput",value:function(){this.inputTarget.value=JSON.stringify(this.getValuesAsList())}},{key:"disconnect",value:function(){this.chips.destroy()}}])&&i(e.prototype,n),r&&i(e,r),s}(n(1).b);l(f,"values",{placeholder:String,secondary:String,limit:Number}),l(f,"targets",["view","input"])},183:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return v}));var r=n(1),o=n(6),i=n.n(o);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b(t);if(e){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=n(6),m={headline:{presence:{allowEmpty:!1,message:"^Título no puede estar vacio"}},creditline:{presence:{allowEmpty:!1,message:"^Debes poner los creditos"}},keywords:{presence:{allowEmpty:!1,message:"^Debes incluir palabras clave"}},excerpt:{presence:{allowEmpty:!1,message:"^Describe estas imágenes"},length:function(t,e,n,r,o){return!!t&&(i.a.isEmpty(t.blocks)?{message:"^Describe estas imágenes"}:null)}}},v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(i,t);var e,n,r,o=p(i);function i(){return s(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"objectToQueryString",value:function(t){return Object.keys(t).map((function(e){return e+"="+t[e]})).join("&")}},{key:"connect",value:function(){this.btnTarget.classList.remove("disabled")}},{key:"disconnect",value:function(){this.btnTarget.classList.add("disabled")}},{key:"isValid",value:function(t){var e=h(t,m);if(e){for(var n=0,r=Object.entries(e);n<r.length;n++){var o=c(r[n],2),i=(o[0],o[1]);M.toast({html:i,classes:"red rounded darken-4"})}return!1}return!0}},{key:"guardar",value:function(t){var e=this,n=this.btnTarget;n.classList.add("disabled");var r=this.application.getControllerForElementAndIdentifier(this.tagsTarget,"chips").getValuesAsList(),o=this.headlineTarget.value,i=this.creditlineTarget.value,u=this.apiendpointValue+"?";u+=this.objectToQueryString({updatephotos:this.updatephotosTarget.checked}),this.application.getControllerForElementAndIdentifier(this.excerptTarget,"editor").getData().then((function(t){e.isValid({headline:o,creditline:i,keywords:r,excerpt:t})?fetch(u,{method:"PUT",body:JSON.stringify({id:"",excerpt:JSON.stringify(t),headline:o,credit_line:i,photos:[],keywords:r}),headers:{"Content-Type":"application/json"}}).then((function(t){t.ok?(M.toast({html:"Se guardaron los cambios",classes:"rounded"}),n.classList.remove("disabled")):(M.toast({html:"<b>ERROR</b>: El servidor respondio con error",classes:"rounded red darken-4"}),n.classList.remove("disabled"))})).catch((function(t){M.toast({html:"<b>ERROR</b>: No se pudo enviar la petición",classes:"rounded red darken-4"}),console.log(t),n.classList.remove("disabled")})):(n.classList.remove("disabled"),M.toast({html:"Hay errores en el formulario",classes:"rounded red darken-4"}))}))}}])&&l(e.prototype,n),r&&l(e,r),i}(r.b);d(v,"values",{apiendpoint:String}),d(v,"targets",["headline","creditline","tags","excerpt","updatephotos","btn"])},184:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return b}));var r=n(1),o=n(10),i=n.n(o);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(u,t);var e,n,r,o=l(u);function u(){return c(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"connect",value:function(){var t=JSON.parse(this.inputTarget.value),e=this.hasPlaceholderValue?this.placeholderValue:"Escribe aqui",n=this.hasMinheightValue?this.minheightValue:20;this.editor=new i.a({holder:this.editorTarget.id,minHeight:n,data:t,placeholder:e})}},{key:"disconnect",value:function(){this.editor&&this.editor.destroy()}},{key:"getData",value:function(){return this.editor.save()}},{key:"saveToInput",value:function(t){this.inputTarget.value=JSON.stringify(t)}}])&&a(e.prototype,n),r&&a(e,r),u}(r.b);y(b,"values",{placeholder:String,minheight:Number}),y(b,"targets",["editor","input"])},185:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return d}));var r=n(1);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f,p,y,b=n(0),d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(s,t);var e,n,r,o=a(s);function s(){return i(this,s),o.apply(this,arguments)}return e=s,(n=[{key:"initialize",value:function(){var t=window.navigator.userLanguage||window.navigator.language;b.locale(t)}},{key:"connect",value:function(){var t=this.momentoValue,e=this.formatoValue||"lll";this.element.innerHTML=b(t).format(e)}}])&&u(e.prototype,n),r&&u(e,r),s}(r.b);f=d,p="values",y={momento:String,formato:String},p in f?Object.defineProperty(f,p,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[p]=y},186:function(t,e,n){var r={"./af":22,"./af.js":22,"./ar":23,"./ar-dz":24,"./ar-dz.js":24,"./ar-kw":25,"./ar-kw.js":25,"./ar-ly":26,"./ar-ly.js":26,"./ar-ma":27,"./ar-ma.js":27,"./ar-sa":28,"./ar-sa.js":28,"./ar-tn":29,"./ar-tn.js":29,"./ar.js":23,"./az":30,"./az.js":30,"./be":31,"./be.js":31,"./bg":32,"./bg.js":32,"./bm":33,"./bm.js":33,"./bn":34,"./bn-bd":35,"./bn-bd.js":35,"./bn.js":34,"./bo":36,"./bo.js":36,"./br":37,"./br.js":37,"./bs":38,"./bs.js":38,"./ca":39,"./ca.js":39,"./cs":40,"./cs.js":40,"./cv":41,"./cv.js":41,"./cy":42,"./cy.js":42,"./da":43,"./da.js":43,"./de":44,"./de-at":45,"./de-at.js":45,"./de-ch":46,"./de-ch.js":46,"./de.js":44,"./dv":47,"./dv.js":47,"./el":48,"./el.js":48,"./en-au":49,"./en-au.js":49,"./en-ca":50,"./en-ca.js":50,"./en-gb":51,"./en-gb.js":51,"./en-ie":52,"./en-ie.js":52,"./en-il":53,"./en-il.js":53,"./en-in":54,"./en-in.js":54,"./en-nz":55,"./en-nz.js":55,"./en-sg":56,"./en-sg.js":56,"./eo":57,"./eo.js":57,"./es":58,"./es-do":59,"./es-do.js":59,"./es-mx":60,"./es-mx.js":60,"./es-us":61,"./es-us.js":61,"./es.js":58,"./et":62,"./et.js":62,"./eu":63,"./eu.js":63,"./fa":64,"./fa.js":64,"./fi":65,"./fi.js":65,"./fil":66,"./fil.js":66,"./fo":67,"./fo.js":67,"./fr":68,"./fr-ca":69,"./fr-ca.js":69,"./fr-ch":70,"./fr-ch.js":70,"./fr.js":68,"./fy":71,"./fy.js":71,"./ga":72,"./ga.js":72,"./gd":73,"./gd.js":73,"./gl":74,"./gl.js":74,"./gom-deva":75,"./gom-deva.js":75,"./gom-latn":76,"./gom-latn.js":76,"./gu":77,"./gu.js":77,"./he":78,"./he.js":78,"./hi":79,"./hi.js":79,"./hr":80,"./hr.js":80,"./hu":81,"./hu.js":81,"./hy-am":82,"./hy-am.js":82,"./id":83,"./id.js":83,"./is":84,"./is.js":84,"./it":85,"./it-ch":86,"./it-ch.js":86,"./it.js":85,"./ja":87,"./ja.js":87,"./jv":88,"./jv.js":88,"./ka":89,"./ka.js":89,"./kk":90,"./kk.js":90,"./km":91,"./km.js":91,"./kn":92,"./kn.js":92,"./ko":93,"./ko.js":93,"./ku":94,"./ku.js":94,"./ky":95,"./ky.js":95,"./lb":96,"./lb.js":96,"./lo":97,"./lo.js":97,"./lt":98,"./lt.js":98,"./lv":99,"./lv.js":99,"./me":100,"./me.js":100,"./mi":101,"./mi.js":101,"./mk":102,"./mk.js":102,"./ml":103,"./ml.js":103,"./mn":104,"./mn.js":104,"./mr":105,"./mr.js":105,"./ms":106,"./ms-my":107,"./ms-my.js":107,"./ms.js":106,"./mt":108,"./mt.js":108,"./my":109,"./my.js":109,"./nb":110,"./nb.js":110,"./ne":111,"./ne.js":111,"./nl":112,"./nl-be":113,"./nl-be.js":113,"./nl.js":112,"./nn":114,"./nn.js":114,"./oc-lnc":115,"./oc-lnc.js":115,"./pa-in":116,"./pa-in.js":116,"./pl":117,"./pl.js":117,"./pt":118,"./pt-br":119,"./pt-br.js":119,"./pt.js":118,"./ro":120,"./ro.js":120,"./ru":121,"./ru.js":121,"./sd":122,"./sd.js":122,"./se":123,"./se.js":123,"./si":124,"./si.js":124,"./sk":125,"./sk.js":125,"./sl":126,"./sl.js":126,"./sq":127,"./sq.js":127,"./sr":128,"./sr-cyrl":129,"./sr-cyrl.js":129,"./sr.js":128,"./ss":130,"./ss.js":130,"./sv":131,"./sv.js":131,"./sw":132,"./sw.js":132,"./ta":133,"./ta.js":133,"./te":134,"./te.js":134,"./tet":135,"./tet.js":135,"./tg":136,"./tg.js":136,"./th":137,"./th.js":137,"./tk":138,"./tk.js":138,"./tl-ph":139,"./tl-ph.js":139,"./tlh":140,"./tlh.js":140,"./tr":141,"./tr.js":141,"./tzl":142,"./tzl.js":142,"./tzm":143,"./tzm-latn":144,"./tzm-latn.js":144,"./tzm.js":143,"./ug-cn":145,"./ug-cn.js":145,"./uk":146,"./uk.js":146,"./ur":147,"./ur.js":147,"./uz":148,"./uz-latn":149,"./uz-latn.js":149,"./uz.js":148,"./vi":150,"./vi.js":150,"./x-pseudo":151,"./x-pseudo.js":151,"./yo":152,"./yo.js":152,"./zh-cn":153,"./zh-cn.js":153,"./zh-hk":154,"./zh-hk.js":154,"./zh-mo":155,"./zh-mo.js":155,"./zh-tw":156,"./zh-tw.js":156};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=186},187:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return l}));var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(s,t);var e,n,r,a=c(s);function s(){return o(this,s),a.apply(this,arguments)}return e=s,(n=[{key:"connect",value:function(){M.toast({html:this.element.innerHTML,classes:"rounded yellow darken-4"})}}])&&i(e.prototype,n),r&&i(e,r),s}(n(1).b)},188:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e),n.d(e,"default",(function(){return f}));var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(s,t);var e,n,r,a=c(s);function s(){return o(this,s),a.apply(this,arguments)}return e=s,(n=[{key:"connect",value:function(){this.btnRemoveTarget.classList.remove("disabled")}},{key:"removeFromCoverage",value:function(t){var e=this.btnRemoveTarget,n=this.element;e.classList.add("disabled");var r=this.apiremoveValue,o=this.idValue;fetch(r,{method:"DELETE",body:JSON.stringify({photos:[o]}),headers:{"Content-Type":"application/json"}}).then((function(t){if(t.ok){M.toast({html:"Foto quitada de la cobertura",classes:"rounded"});var r=document.createEvent("CustomEvent");r.initCustomEvent("photo-removed",!0,!0,null),n.dispatchEvent(r)}else M.toast({html:"El servidor respondio con error",classes:"rounded red darken-4"}),console.log(t),e.classList.remove("disabled")})).catch((function(t){M.toast({html:"No se pudo enviar la petición",classes:"rounded red darken-4"}),console.log(t)})),this.btnRemoveTarget.classList.remove("disabled")}}])&&i(e.prototype,n),r&&i(e,r),s}(n(1).b);l(f,"targets",["btnRemove"]),l(f,"values",{id:String,apiremove:String})},189:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return l}));var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(s,t);var e,n,r,a=c(s);function s(){return o(this,s),a.apply(this,arguments)}return e=s,(n=[{key:"photoRemoved",value:function(t){var e=t.target;e.parentNode.removeChild(e)}}])&&i(e.prototype,n),r&&i(e,r),s}(n(1).b)},190:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e),n.d(e,"default",(function(){return f}));var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(s,t);var e,n,r,a=c(s);function s(){return o(this,s),a.apply(this,arguments)}return e=s,(n=[{key:"connect",value:function(){var t=this;this.fileTarget.addEventListener("change",(function(e){t.sendData()}))}},{key:"sendData",value:function(t){var e=new FormData(this.element),n=this.btnTarget;n.classList.add("disabled");var r=this.apiendpointValue;fetch(this.element.getAttribute("action"),{method:"POST",body:e}).then((function(t){t.ok?t.json().then((function(t){M.toast({html:"Foto guardada",classes:"rounded"}),fetch(r,{method:"POST",body:JSON.stringify({photos:[t.md5]}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).catch((function(t){return console.log(t)})).then((function(){window.location.replace(window.location.href)}))})):(M.toast({html:"<b>ERROR</b>: No se pudo guardar, error en el servidor",classes:"rounded red darken-4"}),n.classList.remove("disabled"),console.log("Error en la peticion"))})).catch((function(t){M.toast({html:"<b>ERROR</b>: No se pudo guardar, error en el servidor",classes:"rounded red darken-4"}),n.classList.remove("disabled"),console.log(t)}))}}])&&i(e.prototype,n),r&&i(e,r),s}(n(1).b);l(f,"targets",["file","btn"]),l(f,"values",{apiendpoint:String})},191:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return k}));var r=n(1),o=n(10),i=n.n(o),u=n(6),c=n.n(u);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=n(6),g=n(5),j=n(206),O=n(221),w=n(266),S=n(267).default;n(284),n(285);var _={headline:{presence:{allowEmpty:!1,message:"^Título no puede estar vacio"}},creditline:{presence:{allowEmpty:!1,message:"^Debes poner los creditos"}},keywords:{presence:{allowEmpty:!1,message:"^Debes incluir palabras clave"}},files:{presence:{allowEmpty:!1,message:"^Debes seleccionar al menos una foto"}},excerpt:{presence:{allowEmpty:!1,message:"^Describe estas imágenes"},length:function(t,e,n,r,o){return!!t&&(c.a.isEmpty(t.blocks)?{message:"^Describe estas imágenes"}:null)}}},k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(u,t);var e,n,r,o=b(u);function u(){return f(this,u),o.apply(this,arguments)}return e=u,(n=[{key:"disableGuardar",value:function(){this.sendbtnTarget.classList.add("disabled")}},{key:"enableGuardar",value:function(){this.sendbtnTarget.classList.remove("disabled")}},{key:"connect",value:function(){this.editor=new i.a({holder:this.resumenTarget.id,minHeight:20,placeholder:"Escribe aquí una descripción de la cobertura"}),M.Chips.init(this.tagsTarget,{placeholder:"Plabras clave",secondaryPlaceholder:"+Palabra"}),this.uppy=new g({autoProceed:!1,locale:w,restrictions:{allowedFileTypes:["image/*"]}}).use(O,{inline:!0,hideUploadButton:!0,target:this.photosTarget,height:480}).use(j,{fieldName:"image",endpoint:this.uploadendpointValue,limit:4,timeout:6e4}),this.enableGuardar()}},{key:"disconnect",value:function(){this.editor&&this.editor.destroy()}},{key:"isValid",value:function(t){var e=v(t,_);if(e){for(var n=0,r=Object.entries(e);n<r.length;n++){var o=s(r[n],2),i=(o[0],o[1]);M.toast({html:i,classes:"red rounded"})}return!1}return!0}},{key:"save",value:function(t){var e=this;t.preventDefault(),t.stopPropagation(),this.disableGuardar();var n=[];M.Chips.getInstance(this.tagsTarget).chipsData.forEach((function(t){n.push(t.tag)})),this.editor.save().then((function(t){var r={headline:e.headlineTarget.value,creditline:e.creditlineTarget.value,takenby:e.takenbyTarget.value,keywords:n,excerpt:t,files:e.uppy.getFiles()},o=e.postbackValue;e.isValid(r)&&(r.excerpt=JSON.stringify(t),r.keywords=JSON.stringify(n),delete r.files,e.uppy.setMeta(r),e.uppy.upload().then((function(r){var i=[];if(r.successful.length>0){r.successful.forEach((function(t){i.push(t.response.body.md5)}));var u={keywords:n,photos:i,excerpt:JSON.stringify(t),headline:e.headlineTarget.value,credit_line:e.creditlineTarget.value};S.post(e.apiValue,u).then((function(t){M.toast({html:"Tus cambios han sido guardados",classes:"rounded"}),window.location.replace(o)})).catch((function(t){M.toast({html:"<b>ERROR</b>: No se pudo guardar, error en el servidor",classes:"rounded red darken-4"}),console.log(t)}))}else M.toast({html:"Algo esta mal con el servidor",classes:"red rounded"})})))})),this.enableGuardar()}}])&&p(e.prototype,n),r&&p(e,r),u}(r.b);m(k,"targets",["resumen","tags","headline","creditline","photos","takenby","sendbtn"]),m(k,"values",{uploadendpoint:String,api:String,postback:String})},286:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return y}));var l,f,p,y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(s,t);var e,n,r,a=c(s);function s(){return o(this,s),a.apply(this,arguments)}return e=s,(n=[{key:"connect",value:function(){this.enableSubmit()}},{key:"disableSubmit",value:function(){this.submitTarget.classList.add("disabled")}},{key:"enableSubmit",value:function(){this.submitTarget.classList.remove("disabled")}},{key:"onSubmit",value:function(t){var e=this;t.preventDefault(),t.stopPropagation(),this.disableSubmit(),this.application.getControllerForElementAndIdentifier(this.chipsTarget,"chips").saveToInput();var n=this.application.getControllerForElementAndIdentifier(this.excerptTarget,"editor");n.getData().then((function(t){n.saveToInput(t),e.enableSubmit(),e.element.submit()})).catch((function(t){console.log(t),e.enableSubmit()}))}}])&&i(e.prototype,n),r&&i(e,r),s}(n(1).b);p=["submit","excerpt","chips"],(f="targets")in(l=y)?Object.defineProperty(l,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[f]=p},287:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,"default",(function(){return y}));var l,f,p,y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(s,t);var e,n,r,a=c(s);function s(){return o(this,s),a.apply(this,arguments)}return e=s,(n=[{key:"copyURL",value:function(){this.copyTextToClipboard(this.urlValue)}},{key:"copyTextToClipboard",value:function(t){var e=document.createElement("textarea");e.style.position="fixed",e.style.top=0,e.style.left=0,e.style.width="2em",e.style.height="2em",e.style.padding=0,e.style.border="none",e.style.outline="none",e.style.boxShadow="none",e.style.background="transparent",e.value=t,document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy")&&M.toast({html:"Copiado al portapapeles",classes:"rounded"})}catch(t){console.log("Oops, unable to copy")}document.body.removeChild(e)}}])&&i(e.prototype,n),r&&i(e,r),s}(n(1).b);l=y,f="values",p={url:String},f in l?Object.defineProperty(l,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[f]=p}});